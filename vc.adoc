[[header]]
== Virtual Classes API Guide

[#author .author]#Titov Mykhaylo# +

[[toc]]
[[toctitle]]
Table of Contents

* link:#resources-programs[Errors]
** link:#_method_not_allowed_error[Method not allowed error]
*** link:#_response_fields[Response fields]
*** link:#_example[Example]
** link:#_bad_request_error[Bad request error]
*** link:#_example_of_incorrect_param_value[Example of incorrect param value]
** link:#_entity_not_found_error[Entity not found error]
*** link:#_response_fields_2[Response fields]
*** link:#_example_2[Example]
** link:#_internal_server_error[Internal server error]
*** link:#_response_fields_3[Response fields]
*** link:#_example_3[Example]
** link:#_forbidden[Forbidden]
*** link:#_response_fields_4[Response fields]
*** link:#_example_4[Example]

link:#_assoc_info[Association Info]

* link:#resources-assoc-info[Association Info]
** link:#_request_headers_assoc_info[Request headers]
** link:#_path_parameters_assoc_info[Path parameters]
** link:#_response_fields_assoc_info[Response fields]
** link:#_example_request_assoc_info[Example request]
** link:#_example_response_assoc_info[Example response]

link:#_program_briefs[Category Briefs]

* link:#resources-top-level-categories[Top-level Categories]
** link:#_request_headers_13[Request headers]
** link:#_path_parameters_13[Path parameters]
** link:#_query_parameters_13[Query parameters]
** link:#_request_fields_13[Request fields]
** link:#_response_fields_13[Response fields]
** link:#_example_request_13[Example request]
** link:#_example_response_13[Example response]

* link:#resources-sub-categories[Sub-categories]
** link:#_request_headers_14[Request headers]
** link:#_path_parameters_14[Path parameters]
** link:#_query_parameters_14[Query parameters]
** link:#_request_fields_14[Request fields]
** link:#_response_fields_14[Response fields]
** link:#_example_request_14[Example request]
** link:#_example_response_14[Example response]

* link:#resources-search-programs-controller-i-t-should-search-programs[Search Categories]
** link:#_request_headers_3[Request headers]
** link:#_path_parameters_3[Path parameters]
** link:#_query_parameters_3[Query parameters]
** link:#_request_fields_3[Request fields]
** link:#_response_fields_6[Response fields]
** link:#_example_request_3[Example request]
** link:#_example_response_3[Example response]

link:#_program_details[Category Details]

* link:#resources-fetch-program-details-controller-i-t-should-fetch-program-details[Fetch Category Details]
** link:#_request_headers_4[Request headers]
** link:#_path_parameters_4[Path parameters]
** link:#_query_parameters_4[Query parameters]
** link:#_request_fields_4[Request fields]
** link:#_response_fields_7[Response fields]
** link:#_example_request_4[Example request]
** link:#_example_response_4[Example response]

link:#_video_briefs[Video Briefs]

* link:#resources-fetch-program-video-briefs-controller-i-t-should-fetch-program-videos[Fetch Category Videos]
** link:#_request_headers_5[Request headers]
** link:#_path_parameters_5[Path parameters]
** link:#_query_parameters_5[Query parameters]
** link:#_request_fields_5[Request fields]
** link:#_response_fields_8[Response fields]
** link:#_example_request_5[Example request]
** link:#_example_response_5[Example response]

* link:#resources-fetch-around-the-y-videos[Fetch Around the Y Videos]
** link:#_request_headers_11[Request headers]
** link:#_path_parameters_11[Path parameters]
** link:#_query_parameters_11[Query parameters]
** link:#_request_fields_11[Request fields]
** link:#_response_fields_11[Response fields]
** link:#_example_request_11[Example request]
** link:#_example_response_11[Example response]

* link:#resources-fetch-featured-videos-controller-i-t-should-fetch-featured-videos[Fetch Featured Videos]
** link:#_request_headers_6[Request headers]
** link:#_path_parameters_6[Path parameters]
** link:#_query_parameters_6[Query parameters]
** link:#_request_fields_6[Request fields]
** link:#_response_fields_9[Response fields]
** link:#_example_request_6[Example request]
** link:#_example_response_6[Example response]

* link:#resources-fetch-new-videos[Fetch New Videos]
** link:#_request_headers_12[Request headers]
** link:#_path_parameters_12[Path parameters]
** link:#_query_parameters_12[Query parameters]
** link:#_request_fields_12[Request fields]
** link:#_response_fields_12[Response fields]
** link:#_example_request_12[Example request]
** link:#_example_response_12[Example response]

* link:#resources-search-videos-controller-i-t-should-search-videos[Search Videos]
** link:#_request_headers_7[Request headers]
** link:#_path_parameters_7[Path parameters]
** link:#_query_parameters_7[Query parameters]
** link:#_request_fields_7[Request fields]
** link:#_response_fields_10[Response fields]
** link:#_example_request_7[Example request]
** link:#_example_response_7[Example response]

link:#_video_details[Video Details]

* link:#resources-fetch-video-controller-i-t-should-fetch-video[Fetch Video]
** link:#_request_headers_8[Request headers]
** link:#_path_parameters_8[Path parameters]
** link:#_query_parameters_8[Query parameters]
** link:#_request_fields_8[Request fields]
** link:#_response_fields_11[Response fields]
** link:#_example_request_8[Example request]
** link:#_example_response_8[Example response]

link:#widgets_api[Widgets API Guide]

* link:#app_settings[Fetch App Settings]
** link:#_request_headers_app_settings[Request headers]
** link:#_path_parameters_app_settings[Path parameters]
** link:#_query_parameters_app_settings[Query parameters]
** link:#_request_fields_app_settings[Request fields]
** link:#_response_fields_app_settings[Response fields]
** link:#_example_request_app_settings[Example request]
** link:#_example_response_app_settings[Example response]
* link:#app_setting[Get App Setting]
** link:#_request_headers_app_setting[Request headers]
** link:#_path_parameters_app_setting[Path parameters]
** link:#_query_parameters_app_setting[Query parameters]
** link:#_request_fields_app_setting[Request fields]
** link:#_response_fields_app_setting[Response fields]
** link:#_example_request_app_setting[Example request]
** link:#_example_response_app_setting[Example response]

link:#group_exp[GroupXClass API Guide]

* link:#group_exp_api[Fetch Categories based on GroupXClass data]
** link:#_request_headers_group_exp[Request headers]
** link:#_path_parameters_group_exp[Path parameters]
** link:#_query_parameters_group_exp[Query parameters]
** link:#_request_fields_group_exp[Request fields]
** link:#_response_fields_group_exp[Response fields]
** link:#_example_request_group_exp[Example request]
** link:#_example_response_group_exp[Example response]

[[content]]
[[resources-programs]]
== link:#resources-programs[Errors]

[[_method_not_allowed_error]]
=== link:#_method_not_allowed_error[Method not allowed error]

[[_response_fields]]
==== link:#_response_fields[Response fields]

No response body.

[[_example]]
==== link:#_example[Example]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 405 Method Not Allowed
----

[[_bad_request_error]]
=== link:#_bad_request_error[Bad request error]

[[_example_of_incorrect_param_value]]
==== link:#_example_of_incorrect_param_value[Example of incorrect param value]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 400 Bad Request
Content-Length: 208
Content-Type: application/json;charset=UTF-8

{
  "errors" : {
    "param" : "Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: \"Wrong\""
  }
}
----

[[_entity_not_found_error]]
=== link:#_entity_not_found_error[Entity not found error]

[[_response_fields_2]]
==== link:#_response_fields_2[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|message |String |false |Message of error.
|errors |Map |false |Map of pairs: "<parameterName>": "<reason>".
|===

[[_example_2]]
==== link:#_example_2[Example]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 404 Not Found
Content-Length: 90
Content-Type: application/json;charset=UTF-8

{
  "message" : "Video [999] isn't found",
  "errors" : {
    "videoId" : "notFound"
  }
}
----

[[_internal_server_error]]
=== link:#_internal_server_error[Internal server error]

[[_response_fields_3]]
==== link:#_response_fields_3[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|message |String |false |Message of error.
|===

[[_example_3]]
==== link:#_example_3[Example]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 500 Internal Server Error
Content-Length: 63
Content-Type: application/json;charset=UTF-8

{
  "message" : "java.lang.NullPointerException : some error"
}

----

[[_forbidden]]
=== link:#_forbidden[Forbidden]

[[_response_fields_4]]
==== link:#_response_fields_4[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|errors |Json |false |Message of error.
|===

[[_example_4]]
==== link:#_example_4[Example]

[source,highlightjs,highlight,nowrap]
----
Request Method: GET
Status Code: 403 Forbidden
Content-Type: application/json;charset=UTF-8

{"errors":{"param":"apiKey param is required."}}
----

[[_assoc_info]]
== link:#_assoc_info[Info]

[[resources-assoc-info]]
=== link:#resources-assoc-info[Association Info]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/info`

This operation returns association metadata (label, images and description).

[[_request_headers_assoc_info]]
==== link:#_request_headers_assoc_info[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|Accept |application/json
|authorization |API key for authentication (e.g., `authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0`)
|===

[[_path_parameters_assoc_info]]
==== link:#_path_parameters_assoc_info[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_response_fields_assoc_info]]
==== link:#_response_fields_assoc_info[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|label |String |false |Association name.
|subtitle |String |false |Short one-line description of the Association (plain text, might be empty).
|description |String |true |Long description of the Association (plain text).
|descriptionHtml |String |false |HTML markup for the description of the Association .
|images |Array[String] |false |Array of background image URLs. May be empty.
|===

[[_example_request_assoc_info]]
==== link:#_example_request_assoc_info[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/wichita/info' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_assoc_info]]
==== link:#_example_response_assoc_info[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 311
Content-Type: application/json;charset=UTF-8

{
  "label" : "YMCA of Greater Wichita",
  "substitle" : "Lorem ipsum dolor sit amet.",
  "description" : "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
  "descriptionHtml" : "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.<\/p>",
  "images" : [
    "http://localhost:8080/sites/default/files/2020-11/north_banner.jpg",
    "http://localhost:8080/sites/default/files/2020-11/south_banner.jpg"
  ]
}
----


[[_program_briefs]]
== link:#_program_briefs[Category Briefs]

[[resources-top-level-categories]]
=== link:#resources-top-level-categories[Top-level Categories]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/categories`

This operation extracts top-level catgories. It returns only brief information about categories.

[NOTE]
====
The "New Releases" and "Around the Y" categories are excluded.
====

[[_request_headers_13]]
==== link:#_request_headers_13[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|Accept |application/json
|authorization |API key for authentication (e.g., `authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0`)
|===

[[_path_parameters_13]]
==== link:#_path_parameters_13[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_13]]
==== link:#_query_parameters_13[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_13]]
==== link:#_request_fields_13[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_13]]
==== link:#_response_fields_13[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Category (e.g. 'BODYSTEP', 'THE TRIP').
|items[].id |String |false |Unique ID of the Category.
|items[].parent_program_id |String or null |false |Unique ID of the parent Category or null.
|items[].videoCount |Integer |false |Number of videos.
|items[].thumbnail |String |false |Thumbnail of the Category (scaled and cropped to 1280x700).
|items[].thumbnails |Object |false |Thumbnails of the Category.
|items[].thumbnails.original |String |false |URL to the category image source or empty string.
|items[].thumbnails.1920x1080 |String |false |URL to the category image scaled and cropped to 1080p 16:9 or empty string.
|items[].thumbnails.1280x720 |String |false |URL to the category image scaled and cropped to 720p 16:9 or empty string.
|items[].thumbnails.640x360 |String |false |URL to the category image scaled and cropped to 360p 16:9 or empty string.
|items[].thumbnails.1920w |String |false |URL to the category image scaled to 1920px wide or empty string.
|items[].thumbnails.1280w |String |false |URL to the category image scaled to 1280px wide or empty string.
|items[].thumbnails.640w |String |false |URL to the category image scaled to 640px wide or empty string.
|items[].thumbnails.320w |String |false |URL to the category image scaled to 320px wide or empty string.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|===

[[_example_request_13]]
==== link:#_example_request_13[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/wichita/categories?page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_13]]
==== link:#_example_response_13[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 1271
Content-Type: application/json;charset=UTF-8

{
  "items" : [ {
    "id" : "44440",
    "parent_program_id": "44439",
    "name" : "Martial Arts",
    "videoCount" : 0,
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/bfed04fd-db97-4093-9670-513f50f6f123-c30849ec.jpg",
    "thumbnails": {
      "original": "https://y360cms.docksal/sites/default/files/2020-03/kids-activities-opt.jpg",
      "1920x1080": "https://y360cms.docksal/sites/default/files/styles/1920x1080/public/2020-03/kids-activities-opt.jpg?itok=rOhxuycg",
      "1280x720": "https://y360cms.docksal/sites/default/files/styles/1280x720/public/2020-03/kids-activities-opt.jpg?itok=fZCnCCld",
      "640x360": "https://y360cms.docksal/sites/default/files/styles/640x360/public/2020-03/kids-activities-opt.jpg?itok=nSKeOf8j",
      "1920w": "https://y360cms.docksal/sites/default/files/styles/1920w/public/2020-03/kids-activities-opt.jpg?itok=gjqYtuPV",
      "1280w": "https://y360cms.docksal/sites/default/files/styles/1280w/public/2020-03/kids-activities-opt.jpg?itok=9pZ4eVsv",
      "640w": "https://y360cms.docksal/sites/default/files/styles/640w/public/2020-03/kids-activities-opt.jpg?itok=fICPL8pT",
      "320w": "https://y360cms.docksal/sites/default/files/styles/320w/public/2020-03/kids-activities-opt.jpg?itok=a7DKhk7m"
    }
  },
  {
    "id" : "44441",
    "parent_program_id": "44439",
    "name" : "Yoga",
    "videoCount" : 0,
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/bfed04fd-db97-4093-9670-852a31c78802-c00044eb.jpg",
    "thumbnails": {
      "original": "https://y360cms.docksal/sites/default/files/2020-04/kids-activities-opt.jpg",
      "1920x1080": "https://y360cms.docksal/sites/default/files/styles/1920x1080/public/2020-04/kids-activities-opt.jpg?itok=rOhxuycg",
      "1280x720": "https://y360cms.docksal/sites/default/files/styles/1280x720/public/2020-04/kids-activities-opt.jpg?itok=fZCnCCld",
      "640x360": "https://y360cms.docksal/sites/default/files/styles/640x360/public/2020-04/kids-activities-opt.jpg?itok=nSKeOf8j",
      "1920w": "https://y360cms.docksal/sites/default/files/styles/1920w/public/2020-04/kids-activities-opt.jpg?itok=gjqYtuPV",
      "1280w": "https://y360cms.docksal/sites/default/files/styles/1280w/public/2020-04/kids-activities-opt.jpg?itok=9pZ4eVsv",
      "640w": "https://y360cms.docksal/sites/default/files/styles/640w/public/2020-04/kids-activities-opt.jpg?itok=fICPL8pT",
      "320w": "https://y360cms.docksal/sites/default/files/styles/320w/public/2020-04/kids-activities-opt.jpg?itok=a7DKhk7m"
    }
  }],
  "summary" : {
    "total" : 2,
    "page" : 0,
    "limit" : 50
  }
}
----

[[resources-sub-categories]]
=== link:#resources-sub-categories[Sub-categories]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/categories/{categoryId}/sub-categories`

This operation extracts sub-categories of a category. It returns only brief information about categories.

[[_request_headers_14]]
==== link:#_request_headers_14[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|Accept |application/json
|authorization |API key for authentication (e.g., `authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0`)
|===

[[_path_parameters_14]]
==== link:#_path_parameters_14[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|categoryId |Integer |false |Unique ID of the Category.
|===

[[_query_parameters_14]]
==== link:#_query_parameters_14[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_14]]
==== link:#_request_fields_14[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_14]]
==== link:#_response_fields_14[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Sub-category (e.g. 'Judo', 'Taekwondo').
|items[].parent_program_id |String or null |false |Unique ID of the parent Category or null.
|items[].id |String |false |Unique ID of the Sub-category.
|items[].videoCount |Integer |false |Number of videos.
|items[].thumbnail |String |false |Thumbnail of the Sub-category (scaled and cropped to 1280x700).
|items[].thumbnails |Object |false |Thumbnails of the Category.
|items[].thumbnails.original |String |false |URL to the category image source or empty string.
|items[].thumbnails.1920x1080 |String |false |URL to the category image scaled and cropped to 1080p 16:9 or empty string.
|items[].thumbnails.1280x720 |String |false |URL to the category image scaled and cropped to 720p 16:9 or empty string.
|items[].thumbnails.640x360 |String |false |URL to the category image scaled and cropped to 360p 16:9 or empty string.
|items[].thumbnails.1920w |String |false |URL to the category image scaled to 1920px wide or empty string.
|items[].thumbnails.1280w |String |false |URL to the category image scaled to 1280px wide or empty string.
|items[].thumbnails.640w |String |false |URL to the category image scaled to 640px wide or empty string.
|items[].thumbnails.320w |String |false |URL to the category image scaled to 320px wide or empty string.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|===

[[_example_request_14]]
==== link:#_example_request_14[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/wichita/categories/44440/subcategories?page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_14]]
==== link:#_example_response_14[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 271
Content-Type: application/json;charset=UTF-8

{
  "items" : [ {
    "id" : "44450",
    "parent_program_id": "44439",
    "name" : "Judo",
    "videoCount" : 10,
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/bfed04fd-db97-4093-9670-513f50f6f123-c30849ec.jpg",
    "thumbnails": {
      "original": "https://y360cms.docksal/sites/default/files/2020-04/kids-activities-opt.jpg",
      "1920x1080": "https://y360cms.docksal/sites/default/files/styles/1920x1080/public/2020-04/kids-activities-opt.jpg?itok=rOhxuycg",
      "1280x720": "https://y360cms.docksal/sites/default/files/styles/1280x720/public/2020-04/kids-activities-opt.jpg?itok=fZCnCCld",
      "640x360": "https://y360cms.docksal/sites/default/files/styles/640x360/public/2020-04/kids-activities-opt.jpg?itok=nSKeOf8j",
      "1920w": "https://y360cms.docksal/sites/default/files/styles/1920w/public/2020-04/kids-activities-opt.jpg?itok=gjqYtuPV",
      "1280w": "https://y360cms.docksal/sites/default/files/styles/1280w/public/2020-04/kids-activities-opt.jpg?itok=9pZ4eVsv",
      "640w": "https://y360cms.docksal/sites/default/files/styles/640w/public/2020-04/kids-activities-opt.jpg?itok=fICPL8pT",
      "320w": "https://y360cms.docksal/sites/default/files/styles/320w/public/2020-04/kids-activities-opt.jpg?itok=a7DKhk7m"
    }
  },
  {
    "id" : "44451",
    "parent_program_id": "44439",
    "name" : "Taekwondo",
    "videoCount" : 12,
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/bfed04fd-db97-4093-9670-852a31c78802-c00044eb.jpg",
    "thumbnails": {
      "original": "https://y360cms.docksal/sites/default/files/2020-04/kids-activities-opt.jpg",
      "1920x1080": "https://y360cms.docksal/sites/default/files/styles/1920x1080/public/2020-04/kids-activities-opt.jpg?itok=rOhxuycg",
      "1280x720": "https://y360cms.docksal/sites/default/files/styles/1280x720/public/2020-04/kids-activities-opt.jpg?itok=fZCnCCld",
      "640x360": "https://y360cms.docksal/sites/default/files/styles/640x360/public/2020-04/kids-activities-opt.jpg?itok=nSKeOf8j",
      "1920w": "https://y360cms.docksal/sites/default/files/styles/1920w/public/2020-04/kids-activities-opt.jpg?itok=gjqYtuPV",
      "1280w": "https://y360cms.docksal/sites/default/files/styles/1280w/public/2020-04/kids-activities-opt.jpg?itok=9pZ4eVsv",
      "640w": "https://y360cms.docksal/sites/default/files/styles/640w/public/2020-04/kids-activities-opt.jpg?itok=fICPL8pT",
      "320w": "https://y360cms.docksal/sites/default/files/styles/320w/public/2020-04/kids-activities-opt.jpg?itok=a7DKhk7m"
    }
  }],
  "summary" : {
    "total" : 2,
    "page" : 0,
    "limit" : 50
  }
}
----


[[resources-search-programs-controller-i-t-should-search-programs]]
=== link:#resources-search-programs-controller-i-t-should-search-programs[Search Categories]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/programs`

This operation searches for Categories. It returns only brief information about Categories.

[NOTE]
====
The "New Releases" and "Around the Y" categories are excluded.
====

[[_request_headers_3]]
==== link:#_request_headers_3[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_3]]
==== link:#_path_parameters_3[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_3]]
==== link:#_query_parameters_3[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|searchString |String |true |The query to search.
|===

[[_request_fields_3]]
==== link:#_request_fields_3[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_6]]
==== link:#_response_fields_6[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Category (e.g. 'BODYSTEP', 'THE TRIP').
|items[].id |String |false |Unique ID of the Category.
|items[].parent_program_id |String or null |false |Unique ID of the parent Category or null.
|items[].videoCount |Integer |false |Number of videos.
|items[].thumbnail |String |false |Thumbnail of the Category (scaled and cropped to 1280x700).
|items[].thumbnails |Object |false |Thumbnails of the Category.
|items[].thumbnails.original |String |false |URL to the category image source or empty string.
|items[].thumbnails.1920x1080 |String |false |URL to the category image scaled and cropped to 1080p 16:9 or empty string.
|items[].thumbnails.1280x720 |String |false |URL to the category image scaled and cropped to 720p 16:9 or empty string.
|items[].thumbnails.640x360 |String |false |URL to the category image scaled and cropped to 360p 16:9 or empty string.
|items[].thumbnails.1920w |String |false |URL to the category image scaled to 1920px wide or empty string.
|items[].thumbnails.1280w |String |false |URL to the category image scaled to 1280px wide or empty string.
|items[].thumbnails.640w |String |false |URL to the category image scaled to 640px wide or empty string.
|items[].thumbnails.320w |String |false |URL to the category image scaled to 320px wide or empty string.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|===

[[_example_request_3]]
==== link:#_example_request_3[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/programs?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760&searchString=BODYSTEP&page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_3]]
==== link:#_example_response_3[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 271
Content-Type: application/json;charset=UTF-8

{
  "items" : [ {
    "id" : "44440",
    "parent_program_id": "44439",
    "name" : "BODYSTEP",
    "videoCount" : 10,
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/bfed04fd-db97-4093-9670-513f50f6f123-c30849ec.jpg",
    "thumbnails": {
      "original": "https://y360cms.docksal/sites/default/files/2020-04/kids-activities-opt.jpg",
      "1920x1080": "https://y360cms.docksal/sites/default/files/styles/1920x1080/public/2020-04/kids-activities-opt.jpg?itok=rOhxuycg",
      "1280x720": "https://y360cms.docksal/sites/default/files/styles/1280x720/public/2020-04/kids-activities-opt.jpg?itok=fZCnCCld",
      "640x360": "https://y360cms.docksal/sites/default/files/styles/640x360/public/2020-04/kids-activities-opt.jpg?itok=nSKeOf8j",
      "1920w": "https://y360cms.docksal/sites/default/files/styles/1920w/public/2020-04/kids-activities-opt.jpg?itok=gjqYtuPV",
      "1280w": "https://y360cms.docksal/sites/default/files/styles/1280w/public/2020-04/kids-activities-opt.jpg?itok=9pZ4eVsv",
      "640w": "https://y360cms.docksal/sites/default/files/styles/640w/public/2020-04/kids-activities-opt.jpg?itok=fICPL8pT",
      "320w": "https://y360cms.docksal/sites/default/files/styles/320w/public/2020-04/kids-activities-opt.jpg?itok=a7DKhk7m"
    }
  } ],
  "summary" : {
    "total" : 1,
    "page" : 0,
    "limit" : 50
  }
}
----

[[_program_details]]
== link:#_program_details[Category Details]

[[resources-fetch-program-details-controller-i-t-should-fetch-program-details]]
=== link:#resources-fetch-program-details-controller-i-t-should-fetch-program-details[Fetch Category Details]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/programs/{programId}`

This operation returns all detailed information about Category.

[[_request_headers_4]]
==== link:#_request_headers_4[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_4]]
==== link:#_path_parameters_4[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|programId |String |false |Unique ID of the Category.
|===

[[_query_parameters_4]]
==== link:#_query_parameters_4[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_4]]
==== link:#_request_fields_4[Request fields]

No request body.

[[_response_fields_7]]
==== link:#_response_fields_7[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|brief |Object |false |Brief details of the program.
|brief.name |String |false |Name of the Category (e.g. 'BODYSTEP', 'THE TRIP').
|brief.id |String |false |Unique ID of the Category.
|brief.parent_program_id |String or null |false |Unique ID of the parent Category or null.
|brief.videoCount |Integer |false |Number of videos.
|brief.thumbnail |String |false |Thumbnail of the Category (scaled and cropped to 1280x700).
|brief.thumbnails |Object |false |Thumbnails of the Category.
|brief.thumbnails.original |String |false |URL to the category image source or empty string.
|brief.thumbnails.1920x1080 |String |false |URL to the category image scaled and cropped to 1080p 16:9 or empty string.
|brief.thumbnails.1280x720 |String |false |URL to the category image scaled and cropped to 720p 16:9 or empty string.
|brief.thumbnails.640x360 |String |false |URL to the category image scaled and cropped to 360p 16:9 or empty string.
|brief.thumbnails.1920w |String |false |URL to the category image scaled to 1920px wide or empty string.
|brief.thumbnails.1280w |String |false |URL to the category image scaled to 1280px wide or empty string.
|brief.thumbnails.640w |String |false |URL to the category image scaled to 640px wide or empty string.
|brief.thumbnails.320w |String |false |URL to the category image scaled to 320px wide or empty string.
|programDetails |Object |false |Comprehensive details of the program.
|programDetails.description |String |true |Long description of the program.
|programDetails.customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|===

[[_example_request_4]]
==== link:#_example_request_4[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/programs/44440?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_4]]
==== link:#_example_response_4[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 417
Content-Type: application/json;charset=UTF-8

{
  "brief" : {
    "id" : "44440",
    "parent_program_id": "44439",
    "name" : "BODYSTEP",
    "videoCount" : 10,
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/bfed04fd-db97-4093-9670-513f50f6f123-c30849ec.jpg",
    "thumbnails": {
      "original": "https://y360cms.docksal/sites/default/files/2020-04/kids-activities-opt.jpg",
      "1920x1080": "https://y360cms.docksal/sites/default/files/styles/1920x1080/public/2020-04/kids-activities-opt.jpg?itok=rOhxuycg",
      "1280x720": "https://y360cms.docksal/sites/default/files/styles/1280x720/public/2020-04/kids-activities-opt.jpg?itok=fZCnCCld",
      "640x360": "https://y360cms.docksal/sites/default/files/styles/640x360/public/2020-04/kids-activities-opt.jpg?itok=nSKeOf8j",
      "1920w": "https://y360cms.docksal/sites/default/files/styles/1920w/public/2020-04/kids-activities-opt.jpg?itok=gjqYtuPV",
      "1280w": "https://y360cms.docksal/sites/default/files/styles/1280w/public/2020-04/kids-activities-opt.jpg?itok=9pZ4eVsv",
      "640w": "https://y360cms.docksal/sites/default/files/styles/640w/public/2020-04/kids-activities-opt.jpg?itok=fICPL8pT",
      "320w": "https://y360cms.docksal/sites/default/files/styles/320w/public/2020-04/kids-activities-opt.jpg?itok=a7DKhk7m"
    }
  },
  "programDetails" : {
    "description" : "Basic stepping, just like walking up and down stairs, is at the heart of BODYSTEP",
    "customInfo" : [ {
      "key" : "customKey",
      "value" : "customValue"
    } ]
  }
}
----

[[_video_briefs]]
== link:#_video_briefs[Video Briefs]

[[resources-fetch-program-video-briefs-controller-i-t-should-fetch-program-videos]]
=== link:#resources-fetch-program-video-briefs-controller-i-t-should-fetch-program-videos[Fetch Category Videos]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/programs/{programId}/videos`

This operation returns brief information about Category Videos.

[[_request_headers_5]]
==== link:#_request_headers_5[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_5]]
==== link:#_path_parameters_5[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|programId |String |false |Unique ID of the Category.
|===

[[_query_parameters_5]]
==== link:#_query_parameters_5[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|sort |String |true a|
Sort order

Can be one of [`createdAsc`, `createdDesc`, `titleAsc`, `titleDesc`, `instructorAsc` (`instructor`), `instructorDesc`, `locationAsc` (`location`), `locationDesc`].

Category-specific user-set order if not specified or not matching the listed options.
|location[] |Array[String] |true |Location filter. Location names.
|level[] |Array[String] |true |Workout level filter. Level names.
|instructor[] |Array[String] |true |Instructor filter. Instructor names.
|equipment[] |Array[String] |true |Equipment filter. Equipment names.
|equipmentReq[] |Array[String] |true a|
Equipment required filter.

Can be one of [`yes`, `no`].

`yes` matches videos with equipment set but not equal 'N/A'.
`no` matches videos without equipment set or set to 'N/A'.

*Only the first value is used.*
|===

.Deprecation note
[NOTE]
====
`location`, `level`, `instructor`, `equipment` filter query parameters support
of passing values as comma-separated strings of values is dropped in 3.0.

Apparently, the comma-separated values don't support commas in filter
values, therefore this way is deprecated in 2.0 and is removed in 3.0.
====

[[_request_fields_5]]
==== link:#_request_fields_5[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_8]]
==== link:#_response_fields_8[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
|items[].id |String |false |Unique ID of the Video.
|items[].duration |Integer |false |Video duration in seconds.
|items[].episode |Object |true |Video Episode.
|items[].episode.number |Integer |true |Number of episode in season.
|items[].episode.season |Integer |true |Number of season.
|items[].thumbnail |String |false |Thumbnail of the Video.
|items[].customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|items[].instructor |String |true |Instructor name.
|items[].level |String |true |Workout level.
|items[].location |String |true |Location metadata of the video (e.g. 'Wichita', 'Houston').
|items[].category |Integer |false |Video Category ID (deprecated).
|items[].program |Integer |false |Video Category ID.
|items[].programName |String |false |Video Category name.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|summary.facets |Object |false |Filter values for faceted search.
|summary.facets.level |Array[Object] |false |Filter values the "level" filter.
|summary.facets.level[].id |String |false |Filter value the "level" filter.
|summary.facets.level[].count |Integer |false |Number of search results relevant to the filter value.
|summary.facets.location |Array[Object] |false |Filter values the "location" filter.
|summary.facets.instructor |Array[Object] |false |Filter values the "instructor" filter.
|summary.facets.equipment |Array[Object] |false |Filter values the "equipment" filter.
|===

[[_example_request_5]]
==== link:#_example_request_5[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/programs/44440/videos?location[]=Charlotte&location[]=Houston&location[]=Wichita&sort=locationDesc&equipmentReq=no&page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_5]]
==== link:#_example_response_5[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "items": [
        {
            "id": "87",
            "name": "KIDS YOGA WITH CORRI",
            "thumbnail": "http://embed.wistia.com/deliveries/ea499a80e749b13eb3affe6ff3738596.bin",
            "duration": 1366,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 22,
            "program": 22,
            "programName": "Yoga",
            "location": "Wichita"
        },
        {
            "id": "94",
            "name": "KIDS YOGA WITH CORRI - BREATHING EXERCISES PART 1",
            "thumbnail": "http://embed.wistia.com/deliveries/51317da5e144c5bc9d22de93f428ecf7.bin",
            "duration": 247,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 22,
            "program": 22,
            "programName": "Yoga",
            "location": "Wichita"
        },
        {
            "id": "116",
            "name": "KIDS YOGA WITH CORRI - BREATHING EXERCISES PART 2",
            "thumbnail": "http://embed.wistia.com/deliveries/3ef03bf4cafba35268ce4adbd95f2ad0.bin",
            "duration": 149,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 22,
            "program": 22,
            "programName": "Yoga",
            "location": "Wichita"
        },
        {
            "id": "128",
            "name": "KID'S YOGA WITH CORRI - UNDERWATER ADVENTURE",
            "thumbnail": "http://embed.wistia.com/deliveries/f19964cf5b49a85522e8085fbd0a9231.bin",
            "duration": 1335,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 22,
            "program": 22,
            "programName": "Yoga",
            "location": "Wichita"
        }
    ],
    "summary": {
        "total": 4,
        "page": 0,
        "limit": 20,
        "facets": {
            "level": [
                {
                    "id": "ADVANCED",
                    "count": 1
                },
                {
                    "id": "BEGINNER",
                    "count": 12
                },
                {
                    "id": "INTERMEDIATE",
                    "count": 4
                }
            ],
            "location": [
                {
                    "id": "Charlotte",
                    "count": 1
                },
                {
                    "id": "Houston",
                    "count": 2
                },
                {
                    "id": "Wichita",
                    "count": 14
                }
            ],
            "instructor": [{ ... }],
            "equipment": [{ ... }]
        }
    }
}
----

[[resources-fetch-around-the-y-videos]]
=== link:#resources-fetch-around-the-y-videos[Fetch Around the Y videos]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/around-the-y`

This operation returns brief information about Category Videos.

[[_request_headers_11]]
==== link:#_request_headers_11[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_11]]
==== link:#_path_parameters_11[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_11]]
==== link:#_query_parameters_11[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|sort |String |true a|
Sort order

Can be one of [`createdAsc`, `createdDesc`, `titleAsc`, `titleDesc`, `instructorAsc` (`instructor`), `instructorDesc`, `locationAsc` (`location`), `locationDesc`].

Category-specific user-set order if not specified or not matching the listed options.
|location[] |Array[String] |true |Location filter. Location names.
|level[] |Array[String] |true |Workout level filter. Level names.
|instructor[] |Array[String] |true |Instructor filter. Instructor names.
|equipment[] |Array[String] |true |Equipment filter. Equipment names.
|equipmentReq[] |Array[String] |true a|
Equipment required filter.

Can be one of [`yes`, `no`].

`yes` matches videos with equipment set but not equal 'N/A'.
`no` matches videos without equipment set or set to 'N/A'.

*Only the first value is used.*
|===

[[_request_fields_11]]
==== link:#_request_fields_11[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_11]]
==== link:#_response_fields_11[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
|items[].id |String |false |Unique ID of the Video.
|items[].duration |Integer |false |Video duration in seconds.
|items[].episode |Object |true |Video Episode.
|items[].episode.number |Integer |true |Number of episode in season.
|items[].episode.season |Integer |true |Number of season.
|items[].thumbnail |String |false |Thumbnail of the Video.
|items[].customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|items[].instructor |String |true |Instructor name.
|items[].level |String |true |Workout level.
|items[].location |String |true |Location metadata of the video (e.g. 'Wichita', 'Houston').
|items[].category |Integer |false |Video Category ID (deprecated).
|items[].program |Integer |false |Video Category ID.
|items[].programName |String |false |Video Category name.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|summary.facets |Object |false |Filter values for faceted search.
|summary.facets.level |Array[Object] |false |Filter values the "level" filter.
|summary.facets.level[].id |String |false |Filter value the "level" filter.
|summary.facets.level[].count |Integer |false |Number of search results relevant to the filter value.
|summary.facets.location |Array[Object] |false |Filter values the "location" filter.
|summary.facets.instructor |Array[Object] |false |Filter values the "instructor" filter.
|summary.facets.equipment |Array[Object] |false |Filter values the "equipment" filter.
|===

[[_example_request_11]]
==== link:#_example_request_11[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/around-the-y?location[]=Charlotte&location[]=Houston&location[]=Wichita&sort=locationDesc&equipmentReq=no&page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_11]]
==== link:#_example_response_11[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8

{
    "items": [
        {
            "id": "87",
            "name": "KIDS YOGA WITH CORRI",
            "thumbnail": "http://embed.wistia.com/deliveries/ea499a80e749b13eb3affe6ff3738596.bin",
            "duration": 1366,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 122,
            "program": 122,
            "programName": "Around the Y",
            "location": "Wichita"
        },
        {
            "id": "94",
            "name": "KIDS YOGA WITH CORRI - BREATHING EXERCISES PART 1",
            "thumbnail": "http://embed.wistia.com/deliveries/51317da5e144c5bc9d22de93f428ecf7.bin",
            "duration": 247,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 122,
            "program": 122,
            "programName": "Around the Y",
            "location": "Wichita"
        },
        {
            "id": "116",
            "name": "KIDS YOGA WITH CORRI - BREATHING EXERCISES PART 2",
            "thumbnail": "http://embed.wistia.com/deliveries/3ef03bf4cafba35268ce4adbd95f2ad0.bin",
            "duration": 149,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 122,
            "program": 122,
            "programName": "Around the Y",
            "location": "Wichita"
        },
        {
            "id": "128",
            "name": "KID'S YOGA WITH CORRI - UNDERWATER ADVENTURE",
            "thumbnail": "http://embed.wistia.com/deliveries/f19964cf5b49a85522e8085fbd0a9231.bin",
            "duration": 1335,
            "customInfo": [],
            "instructor": "Corri Lewellen",
            "level": "BEGINNER",
            "category": 122,
            "program": 122,
            "programName": "Around the Y",
            "location": "Wichita"
        }
    ],
    "summary": {
        "total": 4,
        "page": 0,
        "limit": 20,
        "facets": {
            "level": [
                {
                    "id": "ADVANCED",
                    "count": 1
                },
                {
                    "id": "BEGINNER",
                    "count": 12
                },
                {
                    "id": "INTERMEDIATE",
                    "count": 4
                }
            ],
            "location": [
                {
                    "id": "Charlotte",
                    "count": 1
                },
                {
                    "id": "Houston",
                    "count": 2
                },
                {
                    "id": "Wichita",
                    "count": 14
                }
            ],
            "instructor": [{ ... }],
            "equipment": [{ ... }]
        }
    }
}
----

[[resources-fetch-featured-videos-controller-i-t-should-fetch-featured-videos]]
=== link:#resources-fetch-featured-videos-controller-i-t-should-fetch-featured-videos[Fetch Featured Videos]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/featured-videos`

This operation fetches Featured Videos. It returns only brief information about Video.

The featured videos are a combination of an association level videos and the
national level videos. The national level videos are appeneded to the list of
the association level videos if there are not enought videos on the association
level.

[[_request_headers_6]]
==== link:#_request_headers_6[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_6]]
==== link:#_path_parameters_6[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_6]]
==== link:#_query_parameters_6[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_6]]
==== link:#_request_fields_6[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_9]]
==== link:#_response_fields_9[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
|items[].id |String |false |Unique ID of the Video.
|items[].duration |Integer |false |Video duration in seconds.
|items[].episode |Object |true |Video Episode.
|items[].episode.number |Integer |true |Number of episode in season.
|items[].episode.season |Integer |true |Number of season.
|items[].thumbnail |String |false |Thumbnail of the Video.
|items[].category |Integer |false |Video Category ID (deprecated).
|items[].program |Integer |false |Video Category ID.
|items[].programName |String |false |Video Category name.
|items[].customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|===

[[_example_request_6]]
==== link:#_example_request_6[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/featured-videos?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760&page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_6]]
==== link:#_example_response_6[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 341
Content-Type: application/json;charset=UTF-8

{
  "items" : [ {
    "id" : "375633",
    "name" : "RPM #79 Express",
    "episode" : {
      "season" : 4,
      "number" : 1
    },
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/46223c19-95d9-428d-8a48-4cd0c9230f49-dc0ec788.jpg",
    "duration" : 90
  } ],
  "summary" : {
    "total" : 1,
    "page" : 0,
    "limit" : 50
  }
}
----


[[resources-fetch-new-videos]]
=== link:#resources-fetch-new-videos[Fetch New Videos]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/new-videos`

This operation fetches recently added Videos. It returns only brief information about Video.

[[_request_headers_12]]
==== link:#_request_headers_12[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_12]]
==== link:#_path_parameters_12[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_12]]
==== link:#_query_parameters_12[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_12]]
==== link:#_request_fields_12[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|===

[[_response_fields_12]]
==== link:#_response_fields_12[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
|items[].id |String |false |Unique ID of the Video.
|items[].duration |Integer |false |Video duration in seconds.
|items[].episode |Object |true |Video Episode.
|items[].episode.number |Integer |true |Number of episode in season.
|items[].episode.season |Integer |true |Number of season.
|items[].thumbnail |String |false |Thumbnail of the Video.
|items[].category |Integer |false |Video Category ID (deprecated).
|items[].program |Integer |false |Video Category ID.
|items[].programName |String |false |Video Category name.
|items[].customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|===

[[_example_request_12]]
==== link:#_example_request_12[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/new-videos?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760&page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_12]]
==== link:#_example_response_12[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 341
Content-Type: application/json;charset=UTF-8

{
  "items" : [ {
    "id" : "375633",
    "name" : "RPM #79 Express",
    "episode" : {
      "season" : 4,
      "number" : 1
    },
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/46223c19-95d9-428d-8a48-4cd0c9230f49-dc0ec788.jpg",
    "duration" : 90
  } ],
  "summary" : {
    "total" : 1,
    "page" : 0,
    "limit" : 50
  }
}
----



[[resources-search-videos-controller-i-t-should-search-videos]]
=== link:#resources-search-videos-controller-i-t-should-search-videos[Search Videos]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/videos`

This operation search Videos. It returns only brief information about Videos.

[NOTE]
====
The "New Releases" and "Around the Y" categories are excluded.
====

[[_request_headers_7]]
==== link:#_request_headers_7[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_7]]
==== link:#_path_parameters_7[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_7]]
==== link:#_query_parameters_7[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_7]]
==== link:#_request_fields_7[Request fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|searchString |String |false |The searchString to search video.
|duration[] |Array[String] |true a|
Video duration filter option.

Must be one of [`short`, `long`, `15m`, `30m`, `45m`, `1h`, `1hplus`], where:
short (up to 30 min), long (30 min or longer), 15m (up to 15 min), 30m (up to 30 min), 45m (up to 45 min), 1h (up to 1 hour), 1hplus (1 hour or longer).

Supports multiple values. In case of multiple values, works as `OR` operator.
|page |Integer |true |Page you want to retrieve, 0 indexed and defaults to 0.
|limit |Integer |true |Size of the page you want to retrieve, defaults to 20.
|sort |String |true a|
Sort order

Can be one of [`createdAsc`, `createdDesc`, `titleAsc`, `titleDesc`, `instructorAsc` (`instructor`), `instructorDesc`, `locationAsc` (`location`), `locationDesc`].

`createdDesc` if not specified or not matching the listed options.
|vids[] |Array[Integer] |true |Video ID filter. Video IDs.
|program[] |Array[String] |true |Category filter. Category names.
|location[] |Array[String] |true |Location filter. Location names.
|level[] |Array[String] |true |Workout level filter. Level names.
|instructor[] |Array[String] |true |Instructor filter. Instructor names.
|equipment[] |Array[String] |true |Equipment filter. Equipment names.
|equipmentReq[] |Array[String] |true a|
Equipment required filter.

Can be one of [`yes`, `no`].

`yes` matches videos with equipment set but not equal 'N/A'.
`no` matches videos without equipment set or set to 'N/A'.

*Only the first value is used.*
|===

.Deprecation note
[NOTE]
====
`duration`, `vids`, `program`, `location`, `level`, `instructor`, `equipment`
filter query parameters support of passing values as comma-separated strings of
values is dropped in 3.0.

Apparently, the comma-separated values don't support commas in filter values,
therefore this way is deprecated in 2.0 and is removed in 3.0.
====

[[_response_fields_10]]
==== link:#_response_fields_10[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|items |Array[Object] |false |Actual items.
|items[].name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
|items[].id |String |false |Unique ID of the Video.
|items[].duration |Integer |false |Video duration in seconds.
|items[].episode |Object |true |Video Episode.
|items[].episode.number |Integer |true |Number of episode in season.
|items[].episode.season |Integer |true |Number of season.
|items[].thumbnail |String |false |Thumbnail of the Video.
|items[].customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|items[].instructor |String |true |Instructor name.
|items[].level |String |true |Workout level.
|items[].location |String |true |Location metadata of the video (e.g. 'Wichita', 'Houston').
|items[].category |Integer |false |Video Category ID (deprecated).
|items[].program |Integer |false |Video Category ID.
|items[].programName |String |false |Video Category name.
|summary |Object |false |Page summary.
|summary.limit |Integer |false |Requested size of the page.
|summary.page |Integer |false |Page number.
|summary.total |Integer |false |Total count of items.
|summary.facets |Object |false |Filter values for faceted search.
|summary.facets.level |Array[Object] |false |Filter values the "level" filter.
|summary.facets.level[].id |String |false |Filter value the "level" filter.
|summary.facets.level[].count |Integer |false |Number of search results relevant to the filter value.
|summary.facets.location |Array[Object] |false |Filter values the "location" filter.
|summary.facets.instructor |Array[Object] |false |Filter values the "instructor" filter.
|summary.facets.equipment |Array[Object] |false |Filter values the "equipment" filter.
|summary.facets.program |Array[Object] |false |Filter values the "category" filter.
|summary.facets.program[].id |Array[Object] |false |Filter value for the "category" filter.
|summary.facets.program[].count |Array[Object] |false |Number of search results relevant to the filter value.
|summary.facets.program[].sub |Array[Object] |true |The list of sub-categories.
|summary.facets.program[].sub[].id |Array[Object] |true |Filter value for the "category" filter.
|summary.facets.program[].sub[].count |Array[Object] |true |Number of search results relevant to the filter value.
|summary.facets.program[].sub[].sub |Array[Object] |true |The list of sub-sub-categories.
|===

[[_example_request_7]]
==== link:#_example_request_7[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/videos?searchString=RPM%20%2379%20Express&duration[]=15m&duration[]=1hplus&page=0&limit=50' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_7]]
==== link:#_example_response_7[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 341
Content-Type: application/json;charset=UTF-8

{
  "items": [ {
    "id": "375633",
    "name": "RPM #79 Express",
    "episode": {
      "season": 4,
      "number": 1
    },
    "thumbnail": "https://vhx.imgix.net/lm-test/assets/46223c19-95d9-428d-8a48-4cd0c9230f49-dc0ec788.jpg",
    "duration": 90,
    "instructor": "John Doe",
    "level": "ADVANCED",
    "location": "Wichita",
    "category": 16
  } ],
  "summary": {
    "total": 1,
    "page": 0,
    "limit": 50,
    "facets": {
      "level": [
        {
          "id": "ADVANCED",
          "count": 1
        },
        {
          "id": "ALL LEVELS",
          "count": 0
        },
        {
          "id": "BEGINNER",
          "count": 0
        },
        {
          "id": "INTERMEDIATE",
          "count": 0
        },
        {
          "id": "N/A",
          "count": 0
        }
      ],
      "location": [ ... ],
      "program": [ ... ],
      "instructor": [ ... ],
      "equipment": [ ... ],
    }
  }
}
----

[[_video_details]]
== link:#_video_details[Video Details]

[[resources-fetch-video-controller-i-t-should-fetch-video]]
=== link:#resources-fetch-video-controller-i-t-should-fetch-video[Fetch Video]

`GET /api/virtual-classes/v3.0/content-providers/{provider}/videos/{videoId}`

This operation returns all detailed information about Video.

[[_request_headers_8]]
==== link:#_request_headers_8[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|`authorization` |Api key for authentication (f.e. 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0')
|===

[[_path_parameters_8]]
==== link:#_path_parameters_8[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|videoId |String |false |Unique ID of the Video.
|===

[[_query_parameters_8]]
==== link:#_query_parameters_8[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_8]]
==== link:#_request_fields_8[Request fields]

No request body.

[[_response_fields_11]]
==== link:#_response_fields_11[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Path |Type |Optional |Description
|videoDetails |Object |false |Comprehensive details of the video.
|videoDetails.description |String |true |Long description of the video (plain text).
|videoDetails.descriptionHtml |String |false |HTML markup for the video description.
|videoDetails.equipment |String |true |Equipment needed for workout.
|videoDetails.presenter |String |true |Presenter of the video.
|videoDetails.videoFiles |Array[Object] |false |Files of the video.
|videoDetails.videoFiles[].method |String |true |Format of the video (e.g. 'hls', 'dash', 'progressive').
|videoDetails.videoFiles[].codec |String |true |Codec of the video (e.g. 'h264').
|videoDetails.videoFiles[].mimeType |String |true |Mime-type of the video (e.g. 'application/x-mpegURL', 'application/dash+xml', 'video/mp4').
|videoDetails.videoFiles[].format |String |true |Format of the video (e.g. 'm3u8', 'mpd', 'mp4', 'webm', 'ogg').
|videoDetails.videoFiles[].quality |String |true |Quality of the video (e.g. '1080p', '720p', '540p', '480p', '360p', 'adaptive').
|videoDetails.videoFiles[].sizeInBytes |Integer |true |Size of the video.
|videoDetails.videoFiles[].sourceUrl |String |false |Url of the video file.
|videoDetails.subtitles |Array[Object] |false |Subtitles to video (WebVTT or SRT file).
|videoDetails.subtitles[].locale |String |true |Locale (IETF BCP 47) of subtitles (e.g. 'uk', 'uk_UA', 'en_GB').
|videoDetails.subtitles[].srtFileUrl |String |true |Url of SRT file.
|videoDetails.subtitles[].vttFileUrl |String |true |Url of WebVTT file.
|videoBrief |Object |false |Brief details of the video.
|videoBrief.name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
|videoBrief.id |String |false |Unique ID of the Video.
|videoBrief.duration |Integer |false |Video duration in seconds.
|videoBrief.episode |Object |true |Video Episode.
|videoBrief.episode.number |Integer |true |Number of episode in season.
|videoBrief.episode.season |Integer |true |Number of season.
|videoBrief.thumbnail |String |false |Thumbnail of the Video.
|videoBrief.instructor |String |true |Instructor name.
|videoBrief.location |String |true |Location metadata of the video (e.g. 'Wichita', 'Houston').
|videoBrief.level |String |true |Workout level.
|videoBrief.category |Integer |false |Video Category ID (deprecated).
|videoBrief.program |Integer |false |Video Category ID.
|videoBrief.programName |String |false |Video Category name.
|videoBrief.customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|===

[[_example_request_8]]
==== link:#_example_request_8[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/v3.0/content-providers/lmod/videos/375633?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_8]]
==== link:#_example_response_8[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 2431
Content-Type: application/json;charset=UTF-8

{
  "videoBrief" : {
    "id" : "375633",
    "name" : "RPM #79 Express",
    "location" : "Wichita",
    "instructor" : "John Doe",
    "episode" : {
      "season" : 4,
      "number" : 1
    },
    "thumbnail" : "https://vhx.imgix.net/lm-test/assets/46223c19-95d9-428d-8a48-4cd0c9230f49-dc0ec788.jpg",
    "duration" : 90
  },
  "videoDetails" : {
    "presenter" : "Glen Ostergaard, Brent Findlay, Dee Tjeong, Joshua Berrier, Amanda Breen",
    "description" : "RPM 79 Express r\n\r\n1. PACK RIDE\r\nWhere We Go performed by Diamond Nexus made famous by P!nk\r\nMOVES: Seated Recovery, Ride Easy, Racing\r\n2. PACE\r\nWithout You performed by Teenage Love Story made famous by Avicii feat. Sandro Cavazza\r\nMOVES: Seated Recovery, Ride Easy, Standing Climb, Racing (Forward)\r\n3. HILLS\r\nHold On performed by Call Me Next Spring made famous by Slushii\r\nMOVES: Ride Easy, Standing Climb, Pullback Climb, Standing Attack, Standing Recovery to Seated Recovery, Power Climb\r\n4. MIXED TERRAIN\r\nOne Foot performed by Tiny Dreaming made famous by WALK THE MOON\r\nMOVES: Seated Recovery, Ride Easy, Standing Climb, Standing Attack, Transition, Racing (Forward)\r\n5. INTERVALS\r\nRun For Cover performed by Japan State Of Mind made famous by The Killers\r\nMOVES: Seated Recovery, Ride Easy, Standing Attack, Standing Recovery, Racing, Transition\r\n6. RIDE HOME / STRETCH\r\nHow Long performed by Multiverse Theory made famous by Charlie Puth\r\nMOVES: Seated Recovery, Ride Easy, Racing, Transition of Bike, Standing Quadricep Stretch, Standing Gluteal Stretch",
    "equipment" : "stationary bike",
    "videoFiles" : [ {
      "mimeType" : "video/mp4",
      "codec" : "h264",
      "quality" : "240p",
      "format" : "mp4",
      "method" : "progressive",
      "sizeInBytes" : 178128897,
      "sourceUrl" : "https://vhx-progressive.akamaized.net/-ctx--user_id,3879560--platform_id,2990--video_id,349905--channel_id,47517--plan,public-/c-47517/v-349905/vf-1649353.mp4?token=exp=1548011756~acl=%2F-ctx--user_id%2C3879560--platform_id%2C2990--video_id%2C349905--channel_id%2C47517--plan%2Cpublic-%2Fc-47517%2Fv-349905%2F%2A~hmac=ceb3c92746e9ab75b4b070798fec8e7eb5a1db93646118d85cd5e4f8c5abd371&response-content-disposition=attachment%3Bfilename%3D%22BODYCOMBAT%20Extreme%20Cardio%20Remix%2002%20144p.mp4%22"
    } ],
    "subtitles" : [ {
      "locale" : "en",
      "srtFileUrl" : "https://cdn.vhx.tv/file.srt",
      "vttFileUrl" : "https://cdn.vhx.tv/file.vtt"
    } ]
  }
}
----

[[widgets_api]]
== link:#widgets_api[Widgets API Guide]

[#author .author]#Solodovnyk Vladyslav# +

[[app_settings]]
=== link:#app_settings[Fetch App Settings]

`GET /settings/v3.0/content-providers/{provider}/app-settings`

This operation returns all set up settings.

[[_request_headers_app_settings]]
==== link:#_request_headers_app_settings[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|===

[[_path_parameters_app_settings]]
==== link:#_path_parameters_app_settings[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_app_settings]]
==== link:#_query_parameters_app_settings[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_app_settings]]
==== link:#_request_fields_app_settings[Request fields]

No request body.

[[_response_fields_app_settings]]
==== link:#_response_fields_app_settings[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
| Path | Type | Optional | Description
| settings | Map | false | Array of Key-Value to represent app settings.
| settings[].key | String | false | Setting's name.
| settings[].value | Array[Object] | false | Setting's objects array.
| settings[].value[].text | Object | true | Setting's text object.
| settings[].value[].text.value | String | false | Setting's text object value.
| settings[].value[].image | Object | true | Setting's image object.
| settings[].value[].image.sourceUrl | String | false | Setting's image object url of the image file.
| settings[].value[].video | Object | true | Setting's video object.
| settings[].value[].video.method | String | true | Setting's video object method of the video (e.g. 'hls', 'dash', 'progressive').
| settings[].value[].video.codec | String | true | Setting's video object codec of the video (e.g. 'h264').
| settings[].value[].video.mimeType | String | true | Setting's video object mime-type of the video (e.g. 'application/x-mpegURL', 'application/dash+xml', 'video/mp4').
| settings[].value[].video.format | String | true | Setting's video object format of the video (e.g. 'm3u8', 'mpd', 'mp4', 'webm', 'ogg').
| settings[].value[].video.quality | String | true | Setting's video object quality of the video (e.g. '080p', '720p', '540p', '480p', '360p', 'adaptive').
| settings[].value[].video.sizeInBytes | Integer | true | Setting's video object size of the video.
| settings[].value[].video.sourceUrl | String | false | Setting's video object url of the video file.
|===

[[_example_request_app_settings]]
==== link:#_example_request_app_settings[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/settings/v3.0/content-providers/wichita/app-settings?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_app_settings]]
==== link:#_example_response_app_settings[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 417
Content-Type: application/json;charset=UTF-8

{
  "settings": [
    {
      "key": "customKey1",
      "value": [ {
        "text": {
          "value": "Custom text 1"
        },
        "image": {
          "sourceUrl": "http://embed.wistia.com/deliveries/4be05733d85213239c43e6648767bbf0c316996c.bin"
        }
      } ]
    },
    {
      "key": "customKey2",
      "value": [ {
        "image": {
          "sourceUrl": "http://embed.wistia.com/deliveries/4be05733d85213239c43e6648767bbf0c316996c.bin"
        }
      } ]
    },
    {
      "key": "customKey3",
      "value": [ {
        "video": {
          "mimeType": "video/mp4",
          "codec": "h264",
          "quality": "224p",
          "format": "mp4",
          "method": "progressive",
          "sizeInBytes": 16708680,
          "sourceUrl": "http://embed.wistia.com/deliveries/4be05733d85213239c43e6648767bbf0c316996c.bin"
        }
      } ]
    }
  ]
}
----

[[app_setting]]
=== link:#app_setting[Get App Setting]

`GET /settings/v3.0/content-providers/{provider}/app-settings/{key}`

This operation returns setting values objects array by key.

[[_request_headers_app_setting]]
==== link:#_request_headers_app_setting[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Description
|`Accept` |application/json
|===

[[_path_parameters_app_setting]]
==== link:#_path_parameters_app_setting[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|provider |String |false |Unique ID of the Content Provider.
|key |String |false |Unique key of the Setting.
|===

[[_query_parameters_app_setting]]
==== link:#_query_parameters_app_setting[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|===

[[_request_fields_app_setting]]
==== link:#_request_fields_app_setting[Request fields]

No request body.

[[_response_fields_app_setting]]
==== link:#_response_fields_app_setting[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
| Path | Type | Optional | Description
| text | Object | true | Setting's text object.
| text.value | String | false | Setting's text object value.
| image | Object | true | Setting's image object.
| image.sourceUrl | String | false | Setting's image object url of the image file.
| video | Object | true | Setting's video object.
| video.method | String | true | Setting's video object method of the video (e.g. 'hls', 'dash', 'progressive').
| video.codec | String | true | Setting's video object codec of the video (e.g. 'h264').
| video.mimeType | String | true | Setting's video object mime-type of the video (e.g. 'application/x-mpegURL', 'application/dash+xml', 'video/mp4').
| video.format | String | true | Setting's video object format of the video (e.g. 'm3u8', 'mpd', 'mp4', 'webm', 'ogg').
| video.quality | String | true | Setting's video object quality of the video (e.g. '080p', '720p', '540p', '480p', '360p', 'adaptive').
| video.sizeInBytes | Integer | true | Setting's video object size of the video.
| video.sourceUrl | String | false | Setting's video object url of the video file.
|===

[[_example_request_app_setting]]
==== link:#_example_request_app_setting[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/settings/v3.0/content-providers/wichita/app-settings/customKey1?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760' -i -X GET \
    -H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_app_setting]]
==== link:#_example_response_app_setting[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 417
Content-Type: application/json;charset=UTF-8

[ {
  "text": {
    "value": "Custom text 1"
  },
  "image": {
    "sourceUrl": "http://embed.wistia.com/deliveries/4be05733d85213239c43e6648767bbf0c316996c.bin"
  }
} ]
----

[[group_exp]]
== link:#group_exp_api[GroupXClass API Guide]

[#author .author]#Ihor Karpylenko# +

[[group_exp_api]]
=== link:#group_exp_api[Fetch Categories based on GroupXClass data]

`GET /api/virtual-classes/{source}/v3.0/content-providers/{provider}/get-category-asset`

This operation returns all category assets based on GroupXClass data.

[[_request_headers_group_exp]]
==== link:#_request_headers_group_exp[Request headers]

[width="100%",cols="50%,50%",options="header",]
|===
|Name |Value
|Accept |application/json
|authorization |apiKey xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
|===

[[_path_parameters_group_exp]]
==== link:#_path_parameters_group_exp[Path parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|source |String |false |Unique ID of the Source data Provider (For example - groupxclasses).
|provider |String |false |Unique ID of the Content Provider.
|===

[[_query_parameters_group_exp]]
==== link:#_query_parameters_group_exp[Query parameters]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
|Parameter |Type |Optional |Description
|exerciserUuid |String |true |Exerciser Unique ID.
|id |String |false |Class Unique ID.
|name |String |false |Class name.
|activity |String |false |Class activity.
|===

[[_request_fields_group_exp]]
==== link:#_request_fields_group_exp[Request fields]

No request body.

[[_response_fields_group_exp]]
==== link:#_response_fields_app_settings[Response fields]

[width="100%",cols="25%,25%,25%,25%",options="header",]
|===
| Path | Type | Optional | Description
| items | Map | false | Array of Key-Value to represent assets.
| items[].groupxclass_id | String | false | Class Unique ID.
| items[].images | Array | false | Array of image objects.
| items[].images[].format | String | false | Image style of the image file.
| items[].images[].sourceUrl | String | false | Image object url of the image file.
| items[].video |Array |true |Array with Videos brief info.
| items[].video[].name |String |false |Name of the Video (e.g. 'RPM #79 Express', 'BODYPUMP #100').
| items[].video[].id |String |false |Unique ID of the Video.
| items[].video[].duration |Integer |false |Video duration in seconds.
| items[].video[].episode |Object |true |Video Episode.
| items[].video[].episode.number |Integer |true |Number of episode in season.
| items[].video[].episode.season |Integer |true |Number of season.
| items[].video[].thumbnail |String |false |Thumbnail of the Video.
| items[].video[].customInfo |Map |false |Array of Key-Value to represent additional information of an entity. Partners could contain diverse information of same entities. This type designed to store that information.
|===

[[_example_request_group_exp]]
==== link:#_example_request_group_exp[Example request]

[source,highlightjs,highlight]
----
$ curl 'http://localhost:8080/api/virtual-classes/groupxclasses/v3.0/content-providers/wichita/get-category-asset?exerciserUuid=8965a460-a79e-4bf7-b66c-7e34d8c34760&id=9204039012020&name=Step Express&activity=Step Express' -i -X GET \
-H 'Accept: application/json' -H 'authorization: apiKey 0a47c3bf-4740-465d-a22e-0b25ef86ddd0'
----

[[_example_response_group_exp]]
==== link:#_example_response_group_exp[Example response]

[source,highlightjs,highlight,nowrap]
----
HTTP/1.1 200 OK
Content-Length: 417
Content-Type: application/json;charset=UTF-8

{
   "items": [
      {
         "groupxclass_id":"9204039012020",
         "images": [
            {
               "format":"large",
               "sourceUrl":"http://master.y360cms.demo.fivejars.com/sites/default/files/styles/large/public/downtown_exterior_0.jpg?itok=yaosJs2t"
            },
            {
               "format":"medium",
               "sourceUrl":"http://master.y360cms.demo.fivejars.com/sites/default/files/styles/medium/public/downtown_exterior_0.jpg?itok=yaosJs2t"
            },
            {
               "format":"small",
               "sourceUrl":"http://master.y360cms.demo.fivejars.com/sites/default/files/styles/small/public/downtown_exterior_0.jpg?itok=yaosJs2t"
            }
         ],
         "video": [{
            "id":"7",
            "name":"FREESTYLE SWIMMING - 5 MOST COMMON MISTAKES (2019)",
            "thumbnail":"http://embed.wistia.com/deliveries/1a4efc93b070c0af918129bd86157661d70754dd.bin",
            "duration":835,
            "customInfo":[]
         }
      }],
      {
         "groupxclass_id":"9204039012021",
         "images": [
            {
               "format":"large",
               "sourceUrl":"http://master.y360cms.demo.fivejars.com/sites/default/files/styles/large/public/downtown_exterior_0.jpg?itok=yaosJs2t"
            },
            {
               "format":"medium",
               "sourceUrl":"http://master.y360cms.demo.fivejars.com/sites/default/files/styles/medium/public/downtown_exterior_0.jpg?itok=yaosJs2t"
            },
            {
               "format":"small",
               "sourceUrl":"http://master.y360cms.demo.fivejars.com/sites/default/files/styles/small/public/downtown_exterior_0.jpg?itok=yaosJs2t"
            }
         ]
      }
   ]
}

----

[[footer]]
[[footer-text]]
Last updated 2020-02-03 13:55:00 +0200
